{"changed":true,"filter":false,"title":"ex2.s11","tooltip":"/ex2.s11","value":".=torg +1000\nmain:mov pc,sp\ntst -(sp)\n\nmov #0,Score\nmov #Moves, r0\n\ncheck_12:\n\tcmpb (r0),#'@\t\t;first we check if the\n\tbeq Movesdone\t\t;series of commands finished\n\tadd #1,Score\t\t\n\tmovb (r0)+, r1\t\t;we are putting the values\n\tmovb (r0)+, r3\t\t;of the current command\n\tmovb (r0)+, r5\t\t;into the registers\n\t\n\tmov #0,Fail\t\t\t;we now check if the\n\tcmp nRows, r1\t\t;values are in the correct\n\tblos Illegal\t\t;range. if not, game will \n\tmov #0, Start_Row\t;end by branching to Illegal, \n\tadd r1, Start_Row\t;and Fail will be 0\n\tcmp nCols, r3\n\tblos Illegal\n\tbr check_3\n\ncheck_3: \n\tmov #1, Fail\t\t;now we check if the\n\tmul nCols, r1\t\t;player picked a spot\n\tadd r3, r1\t\t\t;on the board that has\n\tadd #Board, r1\t\t;an object that is legal to\n\tcmpb (r1), #'A\t\t;move. if not, game will end\n\tbeq check_4\t\t\t;and Fail will be 1.\n\tcmpb (r1), #'R\n\tbeq check_4\n\tbr Illegal\n\ncheck_4:\n\tmov #2,Fail\t\t\t;now we check if the\n\tcmp r5, #'R\t\t\t;direction chosen to move \n\tbeq right\t\t\t;is legal. if not, score will\n\tcmp r5, #'L\t\t\t;be 2 and game will end.\n\tbeq left\t\t\t\n\tcmp r5, #'D\n\tbeq down\n\tcmp r5, #'U\n\tbeq up\n\tbr Illegal\n\nIllegal: \n\t\tmov Fail,Score\t;if any move was illegal, F' is\n\t\tmov #'F, Output\t;put into output, and Fail into \n\t\thalt\t\t\t;Score\n\t\nMovesdone:\n\t\tclr r3\t\t\t;after moves are done, we will check if we\n\t\tclr r5\t\t\t;are in the correct spot: we put the values\n\t\tmov #Finish, r0\t;of 'finish' into registers, and compare\n\t\tmovb (r0)+, r3\t;them with our current spot on the board.\n\t\tmovb (r0), r5\t;if we're not in the correct spot, score will be 3.\n\t\tmul nCols, r3\t\n\t\tadd r5, r3\n\t\tadd #Board, r3\n\t\tcmp r3,r1\n\t\tbeq Success \n\t\tmov #3, Fail\n\t\tjmp Illegal\t\n\t\ndown:\n\tmovb (r1), r2\t\t ;down is a loop that moves the object\n\tclrb (r1)\t\t\t ;being moved down one space on the \n\tadd nCols,r1\t\t ;board at a time. after every space \n\tadd #1, Start_Row\t ;moved it will check that the object hasn't\n\tcmp nRows, Start_Row ;left the board, and if the object has reached\n\tblos Illegal\t\t ;another object that will stop it.\n\tcmpb (r1), #0\n\tbne fin_mov4\t\t ;if next spot down is another object\n\tmovb r2, (r1)\t\t ;branch to fin_mov4 to end move, if next spot is 0\n\tbr down\t\t\t\t ;then it will branch to down loop again.\n\t\nup: \n\tmovb (r1), r2\t\t ;up is a loop that moves the object\n\tclrb (r1)\t\t\t ;being moved up one space on the board at a time. after\n\tsub nCols,r1 \t\t ;every space moved it will check that the object hasn't\n\tsub #1, Start_Row\t ;left the board (by reducing Start_Row by 1 after each \n\tcmp nRows, Start_Row ;move), and if the object has reached another object  \n\tblos Illegal\t\t ;that will stop it.\n\tcmpb (r1), #0\t\t  \n\tbne fin_mov3\t\t ;if next spot down is another object\n\tmovb r2, (r1)\t\t ;branch to fin_mov3 to end move, if next spot is 0\n\tbr up\t\t\t\t ;then it will branch to up loop again.\n\t\nright: \n\tmovb (r1),r2\t\t;right is a loop like up and down. r3 currently has the \n\tclrb (r1)\t\t\t;value of the Collum we start at. by increasing the\n\tadd #1, r3\t\t\t;value of r3 by one and comparing it with nCols we check\n\tcmp nCols, r3\t\t;if we left the board.\n\tblos Illegal\n\tadd #1, r1\n\tcmpb (r1), #0\n\tbne fin_mov\t\t\t;if next spot isnt 0, branch to fin_mov to end move\n\tmovb r2, (r1)\n\tbr right\n\nleft:\n\tmovb (r1), r2\t\t;right is a loop that works the same as up, down and\n\tclrb (r1)\t\t\t;right. r3 currently has the value of the column we\n\tsub #1, r3\t\t\t;start at by increasing the value of r3 by one and \n\tcmp nCols, r3\t\t;comparing it with nCols we check if we left the board.\n\tblos Illegal\n\tsub #1, r1\n\tcmpb (r1), #0\n\tbne fin_mov2\t\t;if next spot isnt 0, branch to fin_mov2 to end move\n\tmovb r2, (r1)\n\tbr left\t\t\n\nfin_mov4:\n\t\tsub nCols, r1\t;we need to return the Astronaut/robot one space\n\t\tmovb r2, (r1)\t;up, so we reduce nCols so that r1 points exactly one \n\t\tjmp check_12\t;row up, and then move the value of r2 (which holds 'A \n\t\t\t\t\t\t;/'R) there. Then jump to next move.\nfin_mov3: \n\t\tadd nCols, r1\t;we need to return the Astronaut/robot one space\n\t\tmovb r2, (r1)\t;down, so we add nCols so that r1 points exactly one row\n\t\tjmp check_12\t;dowb and then move the value of r2 (which holds 'A/'R) \n\t\t\t\t\t\t;there. Then jump to next move.\nfin_mov:\n\t\tmovb r2, -(r1)\t;we need to return the Astronaut/robot one space\n\t\tjmp check_12\t;left, so we reduce 1 from r1 so that r1 points exactly \n\t\t\t\t\t\t;one space left. then jump to next move.\nfin_mov2:\n\t\tadd #1, r1\t\t;we need to return the Astronaut/robot one space\n\t\tmovb r2, (r1)\t;right, so we add 1 to r1 so that r1 points exactly \n\t\tjmp check_12\t;one space right. then jump to next move.\t\n\t\t\nSuccess:\t\t\t\t ;if moves are done and we are in the space set as\n\t\tmovb #'S, Output ;Finish. we move ‘S‘ to Output and finish the game\t.\t\n\t\thalt\n\nFail: .word 0\t\t\t;Fail is a variable that holds the reason of failure.\nStart_Row: .word 0\t\t;Start_Row holds the starting row of the current command\n\t\t\t\t\t\t;and helps in each branch to see if we left board.\n\n\t\t\n\t\t","undoManager":{"mark":-2,"position":100,"stack":[[{"start":{"row":38,"column":27},"end":{"row":38,"column":28},"action":"insert","lines":["'"],"id":256}],[{"start":{"row":38,"column":28},"end":{"row":38,"column":29},"action":"insert","lines":["/"],"id":257}],[{"start":{"row":38,"column":29},"end":{"row":38,"column":30},"action":"insert","lines":["'"],"id":258}],[{"start":{"row":38,"column":30},"end":{"row":38,"column":31},"action":"insert","lines":["F"],"id":259}],[{"start":{"row":38,"column":31},"end":{"row":38,"column":32},"action":"insert","lines":["'"],"id":260}],[{"start":{"row":38,"column":31},"end":{"row":38,"column":32},"action":"remove","lines":["'"],"id":261}],[{"start":{"row":38,"column":30},"end":{"row":38,"column":31},"action":"remove","lines":["F"],"id":262}],[{"start":{"row":38,"column":30},"end":{"row":38,"column":31},"action":"insert","lines":["'"],"id":263}],[{"start":{"row":38,"column":30},"end":{"row":38,"column":31},"action":"remove","lines":["'"],"id":264}],[{"start":{"row":38,"column":30},"end":{"row":38,"column":31},"action":"insert","lines":["D"],"id":265}],[{"start":{"row":38,"column":31},"end":{"row":38,"column":32},"action":"insert","lines":["'"],"id":266}],[{"start":{"row":38,"column":32},"end":{"row":38,"column":33},"action":"insert","lines":["/"],"id":267}],[{"start":{"row":38,"column":33},"end":{"row":38,"column":34},"action":"insert","lines":["'"],"id":268}],[{"start":{"row":38,"column":34},"end":{"row":38,"column":35},"action":"insert","lines":["L"],"id":269}],[{"start":{"row":38,"column":35},"end":{"row":38,"column":36},"action":"insert","lines":["'"],"id":270}],[{"start":{"row":38,"column":36},"end":{"row":38,"column":37},"action":"insert","lines":["/"],"id":271}],[{"start":{"row":38,"column":37},"end":{"row":38,"column":38},"action":"insert","lines":["'"],"id":272}],[{"start":{"row":38,"column":38},"end":{"row":38,"column":39},"action":"insert","lines":["R"],"id":273}],[{"start":{"row":38,"column":39},"end":{"row":38,"column":40},"action":"insert","lines":["'"],"id":274}],[{"start":{"row":38,"column":40},"end":{"row":38,"column":41},"action":"insert","lines":[" "],"id":275}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":51},"action":"remove","lines":["r5 value)"],"id":276}],[{"start":{"row":38,"column":41},"end":{"row":38,"column":42},"action":"remove","lines":["("],"id":277}],[{"start":{"row":38,"column":40},"end":{"row":38,"column":41},"action":"remove","lines":[" "],"id":278}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"remove","lines":["i"],"id":279},{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"insert","lines":["ן"]}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"remove","lines":["ן"],"id":280}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"insert","lines":["ן"],"id":281}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"remove","lines":["ן"],"id":282}],[{"start":{"row":38,"column":42},"end":{"row":38,"column":43},"action":"insert","lines":["I"],"id":283}],[{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"insert","lines":["\t"],"id":284}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":[";"],"id":285}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["="],"id":286}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":[" "],"id":287}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"remove","lines":[" "],"id":288}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"remove","lines":["="],"id":289}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"remove","lines":[";"],"id":290}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":[" "],"id":291}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":[";"],"id":292}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["i"],"id":293}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["n"],"id":294}],[{"start":{"row":64,"column":19},"end":{"row":64,"column":20},"action":"insert","lines":[" "],"id":295}],[{"start":{"row":64,"column":20},"end":{"row":64,"column":21},"action":"insert","lines":["c"],"id":296}],[{"start":{"row":64,"column":21},"end":{"row":64,"column":22},"action":"insert","lines":["a"],"id":297}],[{"start":{"row":64,"column":22},"end":{"row":64,"column":23},"action":"insert","lines":["s"],"id":298}],[{"start":{"row":64,"column":23},"end":{"row":64,"column":24},"action":"insert","lines":["e"],"id":299}],[{"start":{"row":64,"column":24},"end":{"row":64,"column":25},"action":"insert","lines":[" "],"id":300}],[{"start":{"row":64,"column":25},"end":{"row":64,"column":26},"action":"insert","lines":["o"],"id":301}],[{"start":{"row":64,"column":26},"end":{"row":64,"column":27},"action":"insert","lines":["f"],"id":302}],[{"start":{"row":64,"column":27},"end":{"row":64,"column":28},"action":"insert","lines":[" "],"id":303}],[{"start":{"row":64,"column":28},"end":{"row":64,"column":29},"action":"insert","lines":["i"],"id":304}],[{"start":{"row":64,"column":29},"end":{"row":64,"column":30},"action":"insert","lines":["="],"id":305}],[{"start":{"row":64,"column":30},"end":{"row":64,"column":31},"action":"insert","lines":["a"],"id":306}],[{"start":{"row":64,"column":31},"end":{"row":64,"column":32},"action":"insert","lines":["n"],"id":307}],[{"start":{"row":64,"column":32},"end":{"row":64,"column":33},"action":"insert","lines":[" "],"id":308}],[{"start":{"row":64,"column":32},"end":{"row":64,"column":33},"action":"remove","lines":[" "],"id":309}],[{"start":{"row":64,"column":31},"end":{"row":64,"column":32},"action":"remove","lines":["n"],"id":310}],[{"start":{"row":64,"column":30},"end":{"row":64,"column":31},"action":"remove","lines":["a"],"id":311}],[{"start":{"row":64,"column":29},"end":{"row":64,"column":30},"action":"remove","lines":["="],"id":312}],[{"start":{"row":64,"column":28},"end":{"row":64,"column":29},"action":"remove","lines":["i"],"id":313}],[{"start":{"row":64,"column":28},"end":{"row":64,"column":29},"action":"insert","lines":["a"],"id":314}],[{"start":{"row":64,"column":29},"end":{"row":64,"column":30},"action":"insert","lines":["n"],"id":315}],[{"start":{"row":64,"column":30},"end":{"row":64,"column":31},"action":"insert","lines":[" "],"id":316}],[{"start":{"row":64,"column":31},"end":{"row":64,"column":32},"action":"insert","lines":["i"],"id":317}],[{"start":{"row":64,"column":32},"end":{"row":64,"column":33},"action":"insert","lines":["l"],"id":318}],[{"start":{"row":64,"column":33},"end":{"row":64,"column":34},"action":"insert","lines":["l"],"id":319}],[{"start":{"row":64,"column":34},"end":{"row":64,"column":35},"action":"insert","lines":["e"],"id":320}],[{"start":{"row":64,"column":35},"end":{"row":64,"column":36},"action":"insert","lines":["g"],"id":321}],[{"start":{"row":64,"column":36},"end":{"row":64,"column":37},"action":"insert","lines":["l"],"id":322}],[{"start":{"row":64,"column":36},"end":{"row":64,"column":37},"action":"remove","lines":["l"],"id":323}],[{"start":{"row":64,"column":36},"end":{"row":64,"column":37},"action":"insert","lines":["a"],"id":324}],[{"start":{"row":64,"column":37},"end":{"row":64,"column":38},"action":"insert","lines":["l"],"id":325}],[{"start":{"row":64,"column":38},"end":{"row":64,"column":39},"action":"insert","lines":[" "],"id":326}],[{"start":{"row":64,"column":38},"end":{"row":64,"column":39},"action":"remove","lines":[" "],"id":327}],[{"start":{"row":64,"column":38},"end":{"row":64,"column":39},"action":"insert","lines":[" "],"id":328}],[{"start":{"row":64,"column":39},"end":{"row":64,"column":40},"action":"insert","lines":["m"],"id":329}],[{"start":{"row":64,"column":40},"end":{"row":64,"column":41},"action":"insert","lines":["o"],"id":330}],[{"start":{"row":64,"column":41},"end":{"row":64,"column":42},"action":"insert","lines":["v"],"id":331}],[{"start":{"row":64,"column":42},"end":{"row":64,"column":43},"action":"insert","lines":["e"],"id":332}],[{"start":{"row":64,"column":43},"end":{"row":64,"column":44},"action":"insert","lines":[" "],"id":333}],[{"start":{"row":64,"column":44},"end":{"row":64,"column":45},"action":"insert","lines":["g"],"id":334}],[{"start":{"row":64,"column":45},"end":{"row":64,"column":46},"action":"insert","lines":["o"],"id":335}],[{"start":{"row":64,"column":46},"end":{"row":64,"column":47},"action":"insert","lines":["t"],"id":336}],[{"start":{"row":64,"column":47},"end":{"row":64,"column":48},"action":"insert","lines":["o"],"id":337}],[{"start":{"row":64,"column":48},"end":{"row":64,"column":49},"action":"insert","lines":[" "],"id":338}],[{"start":{"row":64,"column":49},"end":{"row":64,"column":50},"action":"insert","lines":["i"],"id":339}],[{"start":{"row":64,"column":49},"end":{"row":64,"column":50},"action":"remove","lines":["i"],"id":340}],[{"start":{"row":64,"column":49},"end":{"row":64,"column":50},"action":"insert","lines":["I"],"id":341}],[{"start":{"row":64,"column":50},"end":{"row":64,"column":51},"action":"insert","lines":["l"],"id":342}],[{"start":{"row":64,"column":51},"end":{"row":64,"column":52},"action":"insert","lines":["e"],"id":343}],[{"start":{"row":64,"column":52},"end":{"row":64,"column":53},"action":"insert","lines":["g"],"id":344}],[{"start":{"row":64,"column":53},"end":{"row":64,"column":54},"action":"insert","lines":["a"],"id":345}],[{"start":{"row":64,"column":54},"end":{"row":64,"column":55},"action":"insert","lines":["l"],"id":346}],[{"start":{"row":63,"column":14},"end":{"row":63,"column":15},"action":"insert","lines":[" "],"id":347}],[{"start":{"row":63,"column":15},"end":{"row":63,"column":16},"action":"insert","lines":[" "],"id":348}],[{"start":{"row":63,"column":16},"end":{"row":63,"column":17},"action":"insert","lines":[" "],"id":349}],[{"start":{"row":63,"column":17},"end":{"row":63,"column":18},"action":"insert","lines":[" "],"id":350}],[{"start":{"row":63,"column":17},"end":{"row":63,"column":18},"action":"remove","lines":[" "],"id":351}],[{"start":{"row":63,"column":16},"end":{"row":63,"column":17},"action":"remove","lines":[" "],"id":352}],[{"start":{"row":63,"column":15},"end":{"row":63,"column":16},"action":"remove","lines":[" "],"id":353}],[{"start":{"row":63,"column":14},"end":{"row":63,"column":15},"action":"remove","lines":[" "],"id":354}],[{"start":{"row":58,"column":16},"end":{"row":58,"column":17},"action":"insert","lines":[";"],"id":355}],[{"start":{"row":58,"column":16},"end":{"row":58,"column":17},"action":"remove","lines":[";"],"id":356}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":142,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":false},"firstLineState":0},"timestamp":1463336881132}